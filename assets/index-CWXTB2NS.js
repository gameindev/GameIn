import{a as u,j as h,f as O,u as v,B as T,b as _,g as Q,v as W,z as j,P as J,r as xe,_ as ye}from"./index-C-4AFNO7.js";import{P as R}from"./Popover-BKt8bi6Z.js";import{c as he}from"./ActionIcon-CN4WoK2w.js";import{c as N,C as ge}from"./ComboboxChevron-Blj9Qmi_.js";import{I as X,u as Ce}from"./useApi-D27OJqXo.js";import{i as z}from"./FocusTrap-C_LKvyJp.js";import{g as we}from"./get-floating-position-DB61theM.js";import{a as ve}from"./DirectionProvider-CeuBSB5J.js";const[Se,A]=he("Combobox component was not found in tree"),Y=u.forwardRef(({size:s,onMouseDown:e,onClick:t,onClear:o,...c},l)=>h.jsx(X.ClearButton,{ref:l,tabIndex:-1,"aria-hidden":!0,...c,onMouseDown:r=>{r.preventDefault(),e==null||e(r)},onClick:r=>{o(),t==null||t(r)}}));Y.displayName="@mantine/core/ComboboxClearButton";const Oe={},F=O((s,e)=>{const{classNames:t,styles:o,className:c,style:l,hidden:r,...d}=v("ComboboxDropdown",Oe,s),n=A();return h.jsx(R.Dropdown,{...d,ref:e,role:"presentation","data-hidden":r||void 0,...n.getStyles("dropdown",{className:c,style:l,classNames:t,styles:o})})});F.classes=N;F.displayName="@mantine/core/ComboboxDropdown";const Ae={refProp:"ref"},Z=O((s,e)=>{const{children:t,refProp:o}=v("ComboboxDropdownTarget",Ae,s);if(A(),!z(t))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return h.jsx(R.Target,{ref:e,refProp:o,children:t})});Z.displayName="@mantine/core/ComboboxDropdownTarget";const Ne={},H=O((s,e)=>{const{classNames:t,className:o,style:c,styles:l,vars:r,...d}=v("ComboboxEmpty",Ne,s),n=A();return h.jsx(T,{ref:e,...n.getStyles("empty",{className:o,classNames:t,styles:l,style:c}),...d})});H.classes=N;H.displayName="@mantine/core/ComboboxEmpty";function q({onKeyDown:s,withKeyboardNavigation:e,withAriaAttributes:t,withExpandedAttribute:o,targetType:c,autoComplete:l}){const r=A(),[d,n]=u.useState(null),a=i=>{if(s==null||s(i),!r.readOnly&&e){if(i.nativeEvent.isComposing)return;if(i.nativeEvent.code==="ArrowDown"&&(i.preventDefault(),r.store.dropdownOpened?n(r.store.selectNextOption()):(r.store.openDropdown("keyboard"),n(r.store.selectActiveOption()),r.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),i.nativeEvent.code==="ArrowUp"&&(i.preventDefault(),r.store.dropdownOpened?n(r.store.selectPreviousOption()):(r.store.openDropdown("keyboard"),n(r.store.selectActiveOption()),r.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),i.nativeEvent.code==="Enter"||i.nativeEvent.code==="NumpadEnter"){if(i.nativeEvent.keyCode===229)return;const m=r.store.getSelectedOptionIndex();r.store.dropdownOpened&&m!==-1?(i.preventDefault(),r.store.clickSelectedOption()):c==="button"&&(i.preventDefault(),r.store.openDropdown("keyboard"))}i.key==="Escape"&&r.store.closeDropdown("keyboard"),i.nativeEvent.code==="Space"&&c==="button"&&(i.preventDefault(),r.store.toggleDropdown("keyboard"))}};return{...t?{"aria-haspopup":"listbox","aria-expanded":o&&!!(r.store.listId&&r.store.dropdownOpened)||void 0,"aria-controls":r.store.dropdownOpened&&r.store.listId?r.store.listId:void 0,"aria-activedescendant":r.store.dropdownOpened&&d||void 0,autoComplete:l,"data-expanded":r.store.dropdownOpened||void 0,"data-mantine-stop-propagation":r.store.dropdownOpened||void 0}:{},onKeyDown:a}}const Ie={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ee=O((s,e)=>{const{children:t,refProp:o,withKeyboardNavigation:c,withAriaAttributes:l,withExpandedAttribute:r,targetType:d,autoComplete:n,...a}=v("ComboboxEventsTarget",Ie,s);if(!z(t))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const p=A(),i=q({targetType:d,withAriaAttributes:l,withKeyboardNavigation:c,withExpandedAttribute:r,onKeyDown:t.props.onKeyDown,autoComplete:n});return u.cloneElement(t,{...i,...a,[o]:_(e,p.store.targetRef,we(t))})});ee.displayName="@mantine/core/ComboboxEventsTarget";const Ee={},K=O((s,e)=>{const{classNames:t,className:o,style:c,styles:l,vars:r,...d}=v("ComboboxFooter",Ee,s),n=A();return h.jsx(T,{ref:e,...n.getStyles("footer",{className:o,classNames:t,style:c,styles:l}),...d,onMouseDown:a=>{a.preventDefault()}})});K.classes=N;K.displayName="@mantine/core/ComboboxFooter";const Pe={},V=O((s,e)=>{const{classNames:t,className:o,style:c,styles:l,vars:r,children:d,label:n,...a}=v("ComboboxGroup",Pe,s),p=A();return h.jsxs(T,{ref:e,...p.getStyles("group",{className:o,classNames:t,style:c,styles:l}),...a,children:[n&&h.jsx("div",{...p.getStyles("groupLabel",{classNames:t,styles:l}),children:n}),d]})});V.classes=N;V.displayName="@mantine/core/ComboboxGroup";const Te={},B=O((s,e)=>{const{classNames:t,className:o,style:c,styles:l,vars:r,...d}=v("ComboboxHeader",Te,s),n=A();return h.jsx(T,{ref:e,...n.getStyles("header",{className:o,classNames:t,style:c,styles:l}),...d,onMouseDown:a=>{a.preventDefault()}})});B.classes=N;B.displayName="@mantine/core/ComboboxHeader";function te({value:s,valuesDivider:e=",",...t}){return h.jsx("input",{type:"hidden",value:Array.isArray(s)?s.join(e):s||"",...t})}te.displayName="@mantine/core/ComboboxHiddenInput";const ke={},G=O((s,e)=>{const t=v("ComboboxOption",ke,s),{classNames:o,className:c,style:l,styles:r,vars:d,onClick:n,id:a,active:p,onMouseDown:i,onMouseOver:m,disabled:C,selected:I,mod:k,...P}=t,g=A(),D=u.useId(),E=a||D;return h.jsx(T,{...g.getStyles("option",{className:c,classNames:o,styles:r,style:l}),...P,ref:e,id:E,mod:["combobox-option",{"combobox-active":p,"combobox-disabled":C,"combobox-selected":I},k],role:"option",onClick:f=>{var $;C?f.preventDefault():(($=g.onOptionSubmit)==null||$.call(g,t.value,t),n==null||n(f))},onMouseDown:f=>{f.preventDefault(),i==null||i(f)},onMouseOver:f=>{g.resetSelectionOnOptionHover&&g.store.resetSelectedOption(),m==null||m(f)}})});G.classes=N;G.displayName="@mantine/core/ComboboxOption";const De={},L=O((s,e)=>{const t=v("ComboboxOptions",De,s),{classNames:o,className:c,style:l,styles:r,id:d,onMouseDown:n,labelledBy:a,...p}=t,i=A(),m=ve(d);return u.useEffect(()=>{i.store.setListId(m)},[m]),h.jsx(T,{ref:e,...i.getStyles("options",{className:c,style:l,classNames:o,styles:r}),...p,id:m,role:"listbox","aria-labelledby":a,onMouseDown:C=>{C.preventDefault(),n==null||n(C)}})});L.classes=N;L.displayName="@mantine/core/ComboboxOptions";const $e={withAriaAttributes:!0,withKeyboardNavigation:!0},U=O((s,e)=>{const t=v("ComboboxSearch",$e,s),{classNames:o,styles:c,unstyled:l,vars:r,withAriaAttributes:d,onKeyDown:n,withKeyboardNavigation:a,size:p,...i}=t,m=A(),C=m.getStyles("search"),I=q({targetType:"input",withAriaAttributes:d,withKeyboardNavigation:a,withExpandedAttribute:!1,onKeyDown:n,autoComplete:"off"});return h.jsx(X,{ref:_(e,m.store.searchRef),classNames:[{input:C.className},o],styles:[{input:C.style},c],size:p||m.size,...I,...i,__staticSelector:"Combobox"})});U.classes=N;U.displayName="@mantine/core/ComboboxSearch";const Re={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},oe=O((s,e)=>{const{children:t,refProp:o,withKeyboardNavigation:c,withAriaAttributes:l,withExpandedAttribute:r,targetType:d,autoComplete:n,...a}=v("ComboboxTarget",Re,s);if(!z(t))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const p=A(),i=q({targetType:d,withAriaAttributes:l,withKeyboardNavigation:c,withExpandedAttribute:r,onKeyDown:t.props.onKeyDown,autoComplete:n}),m=u.cloneElement(t,{...i,...a});return h.jsx(R.Target,{ref:_(e,p.store.targetRef),children:m})});oe.displayName="@mantine/core/ComboboxTarget";function je(s,e,t){for(let o=s-1;o>=0;o-=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o;if(t){for(let o=e.length-1;o>-1;o-=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o}return s}function _e(s,e,t){for(let o=s+1;o<e.length;o+=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o;if(t){for(let o=0;o<e.length;o+=1)if(!e[o].hasAttribute("data-combobox-disabled"))return o}return s}function ze(s){for(let e=0;e<s.length;e+=1)if(!s[e].hasAttribute("data-combobox-disabled"))return e;return-1}function Fe({defaultOpened:s,opened:e,onOpenedChange:t,onDropdownClose:o,onDropdownOpen:c,loop:l=!0,scrollBehavior:r="instant"}={}){const[d,n]=Ce({value:e,defaultValue:s,finalValue:!1,onChange:t}),a=u.useRef(null),p=u.useRef(-1),i=u.useRef(null),m=u.useRef(null),C=u.useRef(-1),I=u.useRef(-1),k=u.useRef(-1),P=u.useCallback((b="unknown")=>{d||(n(!0),c==null||c(b))},[n,c,d]),g=u.useCallback((b="unknown")=>{d&&(n(!1),o==null||o(b))},[n,o,d]),D=u.useCallback((b="unknown")=>{d?g(b):P(b)},[g,P,d]),E=u.useCallback(()=>{const b=document.querySelector(`#${a.current} [data-combobox-selected]`);b==null||b.removeAttribute("data-combobox-selected"),b==null||b.removeAttribute("aria-selected")},[]),f=u.useCallback(b=>{const w=document.getElementById(a.current),y=w==null?void 0:w.querySelectorAll("[data-combobox-option]");if(!y)return null;const S=b>=y.length?0:b<0?y.length-1:b;return p.current=S,y!=null&&y[S]&&!y[S].hasAttribute("data-combobox-disabled")?(E(),y[S].setAttribute("data-combobox-selected","true"),y[S].setAttribute("aria-selected","true"),y[S].scrollIntoView({block:"nearest",behavior:r}),y[S].id):null},[r,E]),$=u.useCallback(()=>{const b=document.querySelector(`#${a.current} [data-combobox-active]`);if(b){const w=document.querySelectorAll(`#${a.current} [data-combobox-option]`),y=Array.from(w).findIndex(S=>S===b);return f(y)}return f(0)},[f]),ne=u.useCallback(()=>f(_e(p.current,document.querySelectorAll(`#${a.current} [data-combobox-option]`),l)),[f,l]),ae=u.useCallback(()=>f(je(p.current,document.querySelectorAll(`#${a.current} [data-combobox-option]`),l)),[f,l]),ce=u.useCallback(()=>f(ze(document.querySelectorAll(`#${a.current} [data-combobox-option]`))),[f]),ie=u.useCallback((b="selected",w)=>{k.current=window.setTimeout(()=>{var M;const y=document.querySelectorAll(`#${a.current} [data-combobox-option]`),S=Array.from(y).findIndex(fe=>fe.hasAttribute(`data-combobox-${b}`));p.current=S,w!=null&&w.scrollIntoView&&((M=y[S])==null||M.scrollIntoView({block:"nearest",behavior:r}))},0)},[]),le=u.useCallback(()=>{p.current=-1,E()},[E]),de=u.useCallback(()=>{const b=document.querySelectorAll(`#${a.current} [data-combobox-option]`),w=b==null?void 0:b[p.current];w==null||w.click()},[]),ue=u.useCallback(b=>{a.current=b},[]),be=u.useCallback(()=>{C.current=window.setTimeout(()=>i.current.focus(),0)},[]),pe=u.useCallback(()=>{I.current=window.setTimeout(()=>m.current.focus(),0)},[]),me=u.useCallback(()=>p.current,[]);return u.useEffect(()=>()=>{window.clearTimeout(C.current),window.clearTimeout(I.current),window.clearTimeout(k.current)},[]),{dropdownOpened:d,openDropdown:P,closeDropdown:g,toggleDropdown:D,selectedOptionIndex:p.current,getSelectedOptionIndex:me,selectOption:f,selectFirstOption:ce,selectActiveOption:$,selectNextOption:ne,selectPreviousOption:ae,resetSelectedOption:le,updateSelectedOptionIndex:ie,listId:a.current,setListId:ue,clickSelectedOption:de,searchRef:i,focusSearchInput:be,targetRef:m,focusTarget:pe}}const He={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},qe=W((s,{size:e,dropdownPadding:t})=>({options:{"--combobox-option-fz":J(e),"--combobox-option-padding":j(e,"combobox-option-padding")},dropdown:{"--combobox-padding":t===void 0?void 0:xe(t),"--combobox-option-fz":J(e),"--combobox-option-padding":j(e,"combobox-option-padding")}}));function x(s){const e=v("Combobox",He,s),{classNames:t,styles:o,unstyled:c,children:l,store:r,vars:d,onOptionSubmit:n,onClose:a,size:p,dropdownPadding:i,resetSelectionOnOptionHover:m,__staticSelector:C,readOnly:I,...k}=e,P=Fe(),g=r||P,D=Q({name:C||"Combobox",classes:N,props:e,classNames:t,styles:o,unstyled:c,vars:d,varsResolver:qe}),E=()=>{a==null||a(),g.closeDropdown()};return h.jsx(Se,{value:{getStyles:D,store:g,onOptionSubmit:n,size:p,resetSelectionOnOptionHover:m,readOnly:I},children:h.jsx(R,{opened:g.dropdownOpened,...k,onChange:f=>!f&&E(),withRoles:!1,unstyled:c,children:l})})}const Ke=s=>s;x.extend=Ke;x.classes=N;x.displayName="@mantine/core/Combobox";x.Target=oe;x.Dropdown=F;x.Options=L;x.Option=G;x.Search=U;x.Empty=H;x.Chevron=ge;x.Footer=K;x.Header=B;x.EventsTarget=ee;x.DropdownTarget=Z;x.Group=V;x.ClearButton=Y;x.HiddenInput=te;var se={root:"m_7485cace"};const Ve={},Be=W((s,{size:e,fluid:t})=>({root:{"--container-size":t?void 0:j(e,"container-size")}})),re=O((s,e)=>{const t=v("Container",Ve,s),{classNames:o,className:c,style:l,styles:r,unstyled:d,vars:n,fluid:a,mod:p,...i}=t,m=Q({name:"Container",classes:se,props:t,className:c,style:l,classNames:o,styles:r,unstyled:d,vars:n,varsResolver:Be});return h.jsx(T,{ref:e,mod:[{fluid:a},p],...m("root"),...i})});re.classes=se;re.displayName="@mantine/core/Container";const Ye=(s,e,t="green")=>{ye.show({title:s,message:e,color:t,position:"bottom-right"})},Ze=s=>{if(!s)return"";const[e,t,o]=s.split("-");return`${o}-${t}-${e}`};export{re as C,x as a,Ze as f,Ye as s,Fe as u};
