import{a as d,u as v,aj as U,j as t,b as B,f as $,a1 as q}from"./index-C-4AFNO7.js";import{a as G,u as H,c as V,I as J}from"./useApi-D27OJqXo.js";const K={multiple:!1},w=d.forwardRef((e,a)=>{const{onChange:l,children:i,multiple:u,accept:m,name:h,form:y,resetRef:o,disabled:g,capture:x,inputProps:j,...C}=v("FileButton",K,e),r=d.useRef(null),F=()=>{var s;!g&&((s=r.current)==null||s.click())},c=s=>{if(s.currentTarget.files===null)return l(u?[]:null);l(u?Array.from(s.currentTarget.files):s.currentTarget.files[0]||null)};return U(o,()=>{r.current&&(r.current.value="")}),t.jsxs(t.Fragment,{children:[t.jsx("input",{style:{display:"none"},type:"file",accept:m,multiple:u,onChange:c,ref:B(a,r),name:h,form:y,capture:x,...j}),i({onClick:F,...C})]})});w.displayName="@mantine/core/FileButton";const L=({value:e})=>t.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(e)?e.map(a=>a.name).join(", "):e==null?void 0:e.name}),Q={valueComponent:L},R=$((e,a)=>{const l=v("FileInput",Q,e),{unstyled:i,vars:u,onChange:m,value:h,defaultValue:y,multiple:o,accept:g,name:x,form:j,valueComponent:C,clearable:r,clearButtonProps:F,readOnly:c,capture:I,fileInputProps:s,rightSection:N,size:P,placeholder:k,component:E,resetRef:T,classNames:A,styles:_,...O}=l,p=d.useRef(null),{resolvedClassNames:z,resolvedStyles:D}=G({classNames:A,styles:_,props:l}),[n,S]=H({value:h,defaultValue:y,onChange:m,finalValue:o?[]:null}),b=Array.isArray(n)?n.length!==0:n!==null,M=N||(r&&b&&!c?t.jsx(q,{...F,variant:"subtle",onClick:()=>S(o?[]:null),size:P,unstyled:i}):null);return d.useEffect(()=>{var f;(Array.isArray(n)&&n.length===0||n===null)&&((f=p.current)==null||f.call(p))},[n]),t.jsx(w,{onChange:S,multiple:o,accept:g,name:x,form:j,resetRef:B(p,T),disabled:c,capture:I,inputProps:s,children:f=>t.jsx(V,{component:E||"button",ref:a,rightSection:M,...f,...O,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:l,unstyled:i,size:P,classNames:A,styles:_,children:b?t.jsx(C,{value:n}):t.jsx(J.Placeholder,{__staticSelector:"FileInput",classNames:z,styles:D,children:k})})})});R.classes=V.classes;R.displayName="@mantine/core/FileInput";const Y=R;export{Y as F};
