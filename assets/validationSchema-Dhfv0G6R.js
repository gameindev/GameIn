import{a as Z,j as r,r as _e,s as Oe,f as ze,u as Re,g as We,A as Ge,v as He,z as je,E as k}from"./index-D9oEtHeb.js";import{u as Ne,I as Ae,b as ye}from"./useApi-HEZO75xY.js";import{A as Ke}from"./ActionIcon-CBmGwXDV.js";import{a as Ve}from"./DirectionProvider-D6EKyNqO.js";import{u as ge}from"./use-uncontrolled-NxHOPr4h.js";import{g as Be}from"./get-parsed-combobox-data-BSKT1ADk.js";import{a as C,u as Je}from"./index-Cb_V-kUK.js";import{S as Qe}from"./FocusTrap-CENGLIKd.js";import{c as Ie}from"./ComboboxChevron-CZUbivVw.js";import{c as H,a as Xe,b as et,d as D}from"./index.esm-DgqbvREp.js";function tt(e){const t=Z.useRef(void 0);return Z.useEffect(()=>{t.current=e},[e]),t.current}function Ze(e){return e.reduce((t,s)=>"group"in s?{...t,...Ze(s.items)}:(t[s.value]=s,t),{})}function $e({size:e,style:t,...s}){const u=e!==void 0?{width:_e(e),height:_e(e),...t}:t;return r.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:u,"aria-hidden":!0,...s,children:r.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function gt({indeterminate:e,...t}){return e?r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:r.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):r.jsx($e,{...t})}function G(e){return"group"in e}function Me({options:e,search:t,limit:s}){const u=t.trim().toLowerCase(),i=[];for(let c=0;c<e.length;c+=1){const d=e[c];if(i.length===s)return i;G(d)&&i.push({group:d.group,items:Me({options:d.items,search:t,limit:s-i.length})}),G(d)||d.label.toLowerCase().includes(u)&&i.push(d)}return i}function st(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function qe(e,t=new Set){if(Array.isArray(e))for(const s of e)if(G(s))qe(s.items,t);else{if(typeof s.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof s.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof s.value}`);if(t.has(s.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${s.value}" was provided more than once`);t.add(s.value)}}function rt(e,t){return Array.isArray(e)?e.includes(t):e===t}function ke({data:e,withCheckIcon:t,value:s,checkIconPosition:u,unstyled:i,renderOption:c}){if(!G(e)){const n=rt(s,e.value),_=t&&n&&r.jsx($e,{className:Ie.optionsDropdownCheckIcon}),g=r.jsxs(r.Fragment,{children:[u==="left"&&_,r.jsx("span",{children:e.label}),u==="right"&&_]});return r.jsx(C.Option,{value:e.value,disabled:e.disabled,className:Oe({[Ie.optionsDropdownOption]:!i}),"data-reverse":u==="right"||void 0,"data-checked":n||void 0,"aria-selected":n,active:n,children:typeof c=="function"?c({option:e,checked:n}):g})}const d=e.items.map(n=>r.jsx(ke,{data:n,value:s,unstyled:i,withCheckIcon:t,checkIconPosition:u,renderOption:c},n.value));return r.jsx(C.Group,{label:e.group,children:d})}function at({data:e,hidden:t,hiddenWhenEmpty:s,filter:u,search:i,limit:c,maxDropdownHeight:d,withScrollArea:n=!0,filterOptions:_=!0,withCheckIcon:g=!1,value:m,checkIconPosition:j,nothingFoundMessage:v,unstyled:I,labelId:$,renderOption:O,scrollAreaProps:y,"aria-label":F}){qe(e);const h=typeof i=="string"?(u||Me)({options:e,search:_?i:"",limit:c??1/0}):e,x=st(h),S=h.map(f=>r.jsx(ke,{data:f,withCheckIcon:g,value:m,checkIconPosition:j,unstyled:I,renderOption:O},G(f)?f.group:f.value));return r.jsx(C.Dropdown,{hidden:t||s&&x,"data-composed":!0,children:r.jsxs(C.Options,{labelledBy:$,"aria-label":F,children:[n?r.jsx(Qe.Autosize,{mah:d??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...y,children:S}):S,x&&v&&r.jsx(C.Empty,{children:v})]})})}const ot=({reveal:e})=>r.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:r.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var ve={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const nt={visibilityToggleIcon:ot},lt=He((e,{size:t})=>({root:{"--psi-icon-size":je(t,"psi-icon-size"),"--psi-button-size":je(t,"psi-button-size")}})),Fe=ze((e,t)=>{const s=Re("PasswordInput",nt,e),{classNames:u,className:i,style:c,styles:d,unstyled:n,vars:_,required:g,error:m,leftSection:j,disabled:v,id:I,variant:$,inputContainer:O,description:y,label:F,size:z,errorProps:h,descriptionProps:x,labelProps:S,withAsterisk:f,inputWrapperOrder:te,wrapperProps:se,radius:K,rightSection:re,rightSectionWidth:L,rightSectionPointerEvents:E,leftSectionWidth:ae,visible:oe,defaultVisible:ne,onVisibilityChange:B,visibilityToggleIcon:le,visibilityToggleButtonProps:a,rightSectionProps:ie,leftSectionProps:ce,leftSectionPointerEvents:ue,withErrorStyles:de,mod:J,...pe}=s,R=Ve(I),[U,me]=ge({value:oe,defaultValue:ne,finalValue:!1,onChange:B}),T=()=>me(!U),Y=We({name:"PasswordInput",classes:ve,props:s,className:i,style:c,classNames:u,styles:d,unstyled:n,vars:_,varsResolver:lt}),{resolvedClassNames:N,resolvedStyles:Q}=Ne({classNames:u,styles:d,props:s}),{styleProps:he,rest:fe}=Ge(pe),we=(h==null?void 0:h.id)||`${R}-error`,be=(x==null?void 0:x.id)||`${R}-description`,M=`${!!m&&typeof m!="boolean"?we:""} ${!!y?be:""}`,A=M.trim().length>0?M.trim():void 0,X=r.jsx(Ke,{...Y("visibilityToggle"),disabled:v,radius:K,"aria-hidden":!a,tabIndex:-1,...a,variant:(a==null?void 0:a.variant)??"subtle",color:"gray",unstyled:n,onTouchEnd:o=>{var w;o.preventDefault(),(w=a==null?void 0:a.onTouchEnd)==null||w.call(a,o),T()},onMouseDown:o=>{var w;o.preventDefault(),(w=a==null?void 0:a.onMouseDown)==null||w.call(a,o),T()},onKeyDown:o=>{var w;(w=a==null?void 0:a.onKeyDown)==null||w.call(a,o),o.key===" "&&(o.preventDefault(),T())},children:r.jsx(le,{reveal:U})});return r.jsx(Ae.Wrapper,{required:g,id:R,label:F,error:m,description:y,size:z,classNames:N,styles:Q,__staticSelector:"PasswordInput",unstyled:n,withAsterisk:f,inputWrapperOrder:te,inputContainer:O,variant:$,labelProps:{...S,htmlFor:R},descriptionProps:{...x,id:be},errorProps:{...h,id:we},mod:J,...Y("root"),...he,...se,children:r.jsx(Ae,{component:"div",error:m,leftSection:j,size:z,classNames:{...N,input:Oe(ve.input,N.input)},styles:Q,radius:K,disabled:v,__staticSelector:"PasswordInput",rightSectionWidth:L,rightSection:re??X,variant:$,unstyled:n,leftSectionWidth:ae,rightSectionPointerEvents:E||"all",rightSectionProps:ie,leftSectionProps:ce,leftSectionPointerEvents:ue,withAria:!1,withErrorStyles:de,children:r.jsx("input",{required:g,"data-invalid":!!m||void 0,"data-with-left-section":!!j||void 0,...Y("innerInput"),disabled:v,id:R,ref:t,...fe,"aria-describedby":A,autoComplete:fe.autoComplete||"off",type:U?"text":"password"})})})});Fe.classes={...ye.classes,...ve};Fe.displayName="@mantine/core/PasswordInput";const it={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Le=ze((e,t)=>{const s=Re("Select",it,e),{classNames:u,styles:i,unstyled:c,vars:d,dropdownOpened:n,defaultDropdownOpened:_,onDropdownClose:g,onDropdownOpen:m,onFocus:j,onBlur:v,onClick:I,onChange:$,data:O,value:y,defaultValue:F,selectFirstOptionOnChange:z,onOptionSubmit:h,comboboxProps:x,readOnly:S,disabled:f,filter:te,limit:se,withScrollArea:K,maxDropdownHeight:re,size:L,searchable:E,rightSection:ae,checkIconPosition:oe,withCheckIcon:ne,nothingFoundMessage:B,name:le,form:a,searchValue:ie,defaultSearchValue:ce,onSearchChange:ue,allowDeselect:de,error:J,rightSectionPointerEvents:pe,id:R,clearable:U,clearButtonProps:me,hiddenInputProps:T,renderOption:Y,onClear:N,autoComplete:Q,scrollAreaProps:he,__defaultRightSection:fe,__clearSection:we,__clearable:be,chevronColor:xe,...W}=s,M=Z.useMemo(()=>Be(O),[O]),A=Z.useMemo(()=>Ze(M),[M]),X=Ve(R),[o,w,Se]=ge({value:y,defaultValue:F,finalValue:null,onChange:$}),b=typeof o=="string"?A[o]:void 0,q=tt(b),[ee,Ue,Te]=ge({value:ie,defaultValue:ce,finalValue:b?b.label:"",onChange:ue}),p=Je({opened:n,defaultOpened:_,onDropdownOpen:()=>{m==null||m(),p.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{g==null||g(),p.resetSelectedOption()}}),V=l=>{Ue(l),p.resetSelectedOption()},{resolvedClassNames:Ee,resolvedStyles:Pe}=Ne({props:s,styles:i,classNames:u});Z.useEffect(()=>{z&&p.selectFirstOption()},[z,ee]),Z.useEffect(()=>{y===null&&V(""),typeof y=="string"&&b&&((q==null?void 0:q.value)!==b.value||(q==null?void 0:q.label)!==b.label)&&V(b.label)},[y,b]),Z.useEffect(()=>{var l;!Se&&!Te&&V(typeof o=="string"&&((l=A[o])==null?void 0:l.label)||"")},[O,o]);const Ye=r.jsx(C.ClearButton,{...me,onClear:()=>{w(null,null),V(""),N==null||N()}}),De=U&&!!o&&!f&&!S;return r.jsxs(r.Fragment,{children:[r.jsxs(C,{store:p,__staticSelector:"Select",classNames:Ee,styles:Pe,unstyled:c,readOnly:S,onOptionSubmit:l=>{h==null||h(l);const P=de&&A[l].value===o?null:A[l],Ce=P?P.value:null;Ce!==o&&w(Ce,P),!Se&&V(typeof Ce=="string"&&(P==null?void 0:P.label)||""),p.closeDropdown()},size:L,...x,children:[r.jsx(C.Target,{targetType:E?"input":"button",autoComplete:Q,children:r.jsx(ye,{id:X,ref:t,__defaultRightSection:r.jsx(C.Chevron,{size:L,error:J,unstyled:c,color:xe}),__clearSection:Ye,__clearable:De,rightSection:ae,rightSectionPointerEvents:pe||(De?"all":"none"),...W,size:L,__staticSelector:"Select",disabled:f,readOnly:S||!E,value:ee,onChange:l=>{V(l.currentTarget.value),p.openDropdown(),z&&p.selectFirstOption()},onFocus:l=>{E&&p.openDropdown(),j==null||j(l)},onBlur:l=>{var P;E&&p.closeDropdown(),V(o!=null&&((P=A[o])==null?void 0:P.label)||""),v==null||v(l)},onClick:l=>{E?p.openDropdown():p.toggleDropdown(),I==null||I(l)},classNames:Ee,styles:Pe,unstyled:c,pointer:!E,error:J})}),r.jsx(at,{data:M,hidden:S||f,filter:te,search:ee,limit:se,hiddenWhenEmpty:!B,withScrollArea:K,maxDropdownHeight:re,filterOptions:!!E&&(b==null?void 0:b.label)!==ee,value:o,checkIconPosition:oe,withCheckIcon:ne,nothingFoundMessage:B,unstyled:c,labelId:W.label?`${X}-label`:void 0,"aria-label":W.label?void 0:W["aria-label"],renderOption:Y,scrollAreaProps:he})]}),r.jsx(C.HiddenInput,{value:o,name:le,form:a,disabled:f,...T})]})});Le.classes={...ye.classes,...C.classes};Le.displayName="@mantine/core/Select";const vt=e=>H().shape({email:D().trim().required("Enter your email address").matches(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Must be a valid email address").test("email-unique","Email already in use",async function(t){if(!t)return!0;try{const s=await e({email:t});return console.log("Email check response:",s),!s}catch(s){return s}}),username:D().trim().required("Enter the valid username").min(6,"Username must be at least 6 characters").matches(/^(?:@)?[a-zA-Z0-9._]+$/,"Username can only include letters, numbers, dots, underscores, and an optional leading @").test("username-unique","Username already taken",async function(t){if(!t)return!0;try{const s=await e({username:t});return console.log("Username check response:",s),!s}catch(s){return s}}),password:D().trim().required("Enter your password").min(8,"Password must be at least 8 characters").matches(/[a-z]/,"Password must contain at least one lowercase letter").matches(/[A-Z]/,"Password must contain at least one uppercase letter").matches(/[0-9]/,"Password must contain at least one number").matches(/[^a-zA-Z0-9]/,"Password must contain at least one special character"),dob:et().required("Date of birth is required").max(new Date(new Date().setFullYear(new Date().getFullYear()-18)),"You must be at least 18 years old").min(new Date(1900,0,1),"Invalid date of birth"),acknowledgement:Xe().oneOf([!0],"You must acknowledge the terms and conditions")}),yt=H().shape({role:D().oneOf([k.CREATOR,k.BRAND,k.COMMUNITY],"Please select a valid role").required("Please choose your role")}),xt=H().shape({captcha:D().required("Please complete the captcha verification")}),St=H().shape({userType:D().oneOf([k.CREATOR,k.BRAND,k.COMMUNITY],"Please select a valid role").required("Please choose your role"),password:D().trim().required("Enter your password").min(8,"Password must be at least 8 characters").matches(/[a-z]/,"Password must contain at least one lowercase letter").matches(/[A-Z]/,"Password must contain at least one uppercase letter").matches(/[0-9]/,"Password must contain at least one number").matches(/[^a-zA-Z0-9]/,"Password must contain at least one special character")}),Et=H().shape({identifier:D().trim().required("Username or email is required").test("is-username-or-email","Enter a valid email or a username (min 6 chars, no spaces)",e=>{if(!e)return!1;const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,s=/^[a-zA-Z0-9_]{6,}$/;return t.test(e)||s.test(e)}),password:D().trim().required("Enter your password").min(8,"Password must be at least 8 characters").matches(/[a-z]/,"Password must contain at least one lowercase letter").matches(/[A-Z]/,"Password must contain at least one uppercase letter").matches(/[0-9]/,"Password must contain at least one number").matches(/[^a-zA-Z0-9]/,"Password must contain at least one special character")});export{gt as C,St as O,Fe as P,Le as S,yt as a,xt as b,Et as l,vt as s};
